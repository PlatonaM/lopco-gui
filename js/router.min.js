
import routes from'./routes.min.js'
function getRoute(path){let regex='';let path_vars={};let i;for(i=0;i<routes.length;i++){regex='^'+routes[i][0].replace(/\//g,'\\/');const pv_placeholders=routes[i][0].match(/{.+?}/g);if(pv_placeholders){let j;for(j=0;j<pv_placeholders.length;j++){regex=regex.replace(pv_placeholders[j],'[\\w\\-]+');}}
regex=regex+'\\/*$';if(path.match(regex)){if(pv_placeholders){const p_items=path.split('/');const r_items=routes[i][0].split('/')
let j;for(j=0;j<pv_placeholders.length;j++){path_vars[pv_placeholders[j].replace(/{|}/g,'')]=p_items[r_items.indexOf(pv_placeholders[j])];}}
return[routes[i],path_vars];}}
return null;}
const url=new URL(window.location);const route=getRoute(url.pathname);let main_element=document.getElementsByTagName("main")[0];if(route){document.addEventListener('DOMContentLoaded',(event)=>{import('../components/'+route[0][1]+'/component.min.js').then((cmp)=>{let component=new cmp[route[0][2]](main_element);component.draw(url.searchParams,route[1]);}).catch((err)=>{main_element.innerHTML=err;})});}