
export{Form}
class Form{constructor(ctr){this.container=ctr;}
draw(pa_id){fetch(active_cmp.constructor.r_api+'/'+pa_id).then((response)=>{if(response.ok){return response.json()}
throw'Error retrieving pipelines - '+response.status;}).then((data)=>{fetch('/components/protocol-adapters/deployments/form/template.html').then((response)=>response.text()).then((template)=>{let configs=[];for(const[key,val]of Object.entries(data['configs'])){configs.push({key:key,value:val})}
this.container.innerHTML=Mustache.render(template,{id:pa_id,name:data['name'],image:data['image'],dc_path:data['data_cache_path'],has_configs:!!(configs),configs:configs,has_ports:!!(data['ports']),ports:data['ports']});let form=this.container.getElementsByTagName('form')[0];form.addEventListener('submit',this.submit)});}).catch((err)=>{this.container.innerHTML=err;});}}