
export{DSList}
class DSList{static api='http://localhost:8000/machine-registry/machines';constructor(ctr){this.container=ctr;}
draw(){fetch(DSList.api).then((response)=>response.json()).then((data)=>{fetch('/components/data-sources-list/template.html').then((response)=>response.text()).then((template)=>{let items=[];for(let[key,value]of Object.entries(data)){value=JSON.parse(value);items.push({id:key,name:value['name'],type_id:value['type_id'],pipeline_id:value['pipeline_id']})}
this.container.innerHTML=Mustache.render(template,{ds_items:items});});}).catch((err)=>{this.container.innerHTML=err});}}